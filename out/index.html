<html><head><link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" /><meta charset="utf-8" /></head><body><script src="/js/jquery-3.4.1.min.js"></script><script src="/js/moment.min.js"></script><script>
//<![CDATA[
   function replaceAllText(root, find, replace) {

       var walker = document.createTreeWalker(
           root,
           NodeFilter.SHOW_ALL,  // filtering only text nodes
           null,
           false
       );

       while (walker.nextNode()) {
           var c = walker.currentNode
           if(c.id){
             c.id = c.id.replace(find, replace)
           }
           if(c.getAttribute && c.getAttribute('onclick')){
             c.setAttribute('onclick', c.getAttribute('onclick').replace(find, replace))
           }
           if(c.tagName == "SCRIPT"){
             c.textContent = c.textContent.replace(find, replace)
           }

           if(c.tagName == "TEMPLATE"){
             var content = c.content
             console.log(content)
             replaceAllText(content, find, replace)
           }
       }
   }

function newNamespaceKeeping(old){
   var cache = {}
   return function(ns){
     if(!cache[ns] && ns != old){
       //Keep a cache.  And avoid changing the oldNamespace...
       window.namespace_num = window.namespace_num || 0
       window.namespace_num += 1
       var freshNamespace = ns + "0000" + window.namespace_num
       cache[ns] = freshNamespace
     }

     return cache[ns] || ns;
   }
}

function getNamespace(component){
  return component.innerHTML.match(/ns\d+/)[0]
}

function injectComponent(template, target, oldNamespace){
       console.log([template, target, oldNamespace])
       var actualTemplate = null;
       if(typeof(template) == "string")
           actualTemplate = document.getElementById(template);
       else
           actualTemplate = template;

       var s = actualTemplate.innerHTML

       var content = actualTemplate.content
       var clonedContent = document.importNode(content, true)
       replaceAllText(clonedContent, /ns\d+/g, newNamespaceKeeping(oldNamespace))

       document.getElementById(target).appendChild(clonedContent)

       window.injected = document.getElementById(target).lastChild
       if (actualTemplate.afterInject)
          actualTemplate.afterInject(window.injected)
}
//]]>
</script><div class="card"><div class="card-body"><h5 class="card-title">Click Me</h5><button type="button" class="btn btn-primary" onClick="window.ns1416_main()" id="ns1416_clicker"><span id="ns1416_count">0</span></button></div></div><script>
//<![CDATA[
window.ns1416_main = function(){
window.ns1416_inc(1);

}

window.ns1416_clear = function(){
window.ns1416_count  = 0;
 window.ns1416_render();

}

window.ns1416_inc = function(amount){
window.ns1416_count  +=  amount;
 window.ns1416_render();
 ;

}

window.ns1416_render = function(){
document.getElementById( " ns1416_count ".trim() ) .innerHTML =  ns1416_count;

}

window.ns1416_button="ns1416_clicker";
window.ns1416_count=0;

//]]>
</script><script src="/js/bootstrap.bundle.min.js"></script><script>
//<![CDATA[
$(function () {
  $('[data-toggle="tooltip"]').tooltip()
})
//]]>
</script><script src="/js/font-awesome.js"></script></body></html>
